const recommArray = [
  {
    bread: [
      {
        alt: "남해마늘로 만든 버터갈릭프레첼",
        src: "./img/menu/bread/butter_garlic_pretzel.jpg",
        description:
          "곁곁이 바사한 식감의 패스트리에 알사한 남해 마늘의 진한 맛과 향이 더해진 간식형 제품",
      },
      {
        alt: "남해마늘로 만든 마늘치킨 고로케",
        src: "./img/menu/bread/garlic_chicken_goroke.jpg",
        description:
          "간장치킨 내용물이 듬뿍 들어있는 고로케에, 알싸하고 진한 남해마늘 솟를 토핑한 제품",
      },
      {
        alt: "작다고 얕보지 마라볼",
        src: "./img/menu/bread/mini_marabll.jpg",
        description:
          "크기는 작지만 폭신한 빵 속에 얼얼한 마라내용물이 꽉찬 알파세대 취향 저격 제품",
      },
      {
        alt: "클래식 딸기잼 맘모스",
        src: "./img/menu/bread/classic_strberry_mammoth.png",
        description:
          "소보로를 토피안 부드러운 빵 사이에 버터크림과 달기잼을 샌드한 대형 제품",
      },
      {
        alt: "츄러스 꽈베기",
        src: "./img/menu/bread/churo_pastries.jpg",
        description:
          "곁곁이 바삭한 식감의 패스트리에 달콤한 시나몬 설탕을 토핑한 간식형 제품",
      },
      {
        alt: "그대로 구워먹는 꿀 토스트 식빵",
        src: "./img/menu/bread/honey_loafbread.jpg",
        description:
          "꿀분말과 펄슈가를 넣어 건강한 단맛과 고소한 버터 풍미로 토스트 하였을 때 가장 맛있는 식빵",
      },
      {
        alt: "패스트리에 빠진 에그푸딩",
        src: "./img/menu/bread/egg_pudding.jpg",
        description:
          "결이 살아 있는 바삭한 패스트리에 달콤하고 부드러운 에그푸딩과 맛을 올려줄 밀크 카라멜을 더한 제품",
      },
      {
        alt: "72겹의 정성 데니쉬 식빵",
        src: "./img/menu/bread/72_denish_bread.jpg",
        description:
          "겉은 바삭, 속은 72겹의 결이 살아 있어 결결이 뜯어 먹기 좋은 고소한 버터 풍미의 정통 데니쉬 식빵",
      },
    ],
  },

  {
    cake: [
      {
        alt: "카라멜 부케",
        src: "./img/menu/cake/caramel_bouquet.png",
        description:
          "달콤한 돌세 카라멜 가나슈와 봄브 버터 크림을 샌드하고 토피 카라멜 크림으로 아이싱된 조화 꽃 케이크",
      },
      {
        alt: "자몽 플라워",
        src: "./img/menu/cake/grapefruit_flower.png",
        description:
          "자몽 플레이버 시트와 생크림으로 맛을 내고 사랑스러운 러플 모양과 3색의 종이 꽃으로 무드를 더한 생크림 케이크",
      },
      {
        alt: "베리 플라워",
        src: "./img/menu/cake/berry_flower.png",
        description:
          "핑크빛 베리 시트에 베리 버터 크림과 스트로베리 & 라즈베리 콤포트로 상큼함을 더한 2단 케이크",
      },
      {
        alt: "헬로카봇 사파리 세이버",
        src: "./img/menu/cake/hellocarbot.jpg",
        description:
          "달콤한 돌세 카라멜 가나슈와 봄브 버터 크림을 샌드하고 토피 카라멜 크림으로 아이싱된 조화 꽃 케이크",
      },
      {
        alt: "알쏭달쏭 하츄핑",
        src: "./img/menu/cake/hachuping.jpg",
        description:
          "초코시트에 지한 초코크림과 초코크런치를 샌드하고 따릭우유 크림 맛으로 아이싱한 플로라 하츄핑 피규어 케이크",
      },
      {
        alt: "스트로베리 쇼콜라 갸또",
        src: "./img/menu/cake/str_chocolat_gateto.jpg",
        description:
          "묵직한 초콜릿 풍미의 갸또 시트에 밀크 가냐슈 생크림과 연유 생크림, 새콤탈콤 딸긱 조화를 이룬 케이크",
      },
      {
        alt: "주토피아 주디의 달콤초코",
        src: "./img/menu/cake/judy.jpg",
        description:
          "초코 시트에 톡톡 튀는 달콤상큼 체리맛 크림이 샌드되어 있는 귀여운 주디모양 케이크",
      },
    ],
  },
  {
    deli: [
      {
        alt: "트러플 크림 파스타",
        src: "./img/menu/deli/truffle_cr_pasta.png",
        description:
          "큼직한 리가토니 파스타에 구운버섯을 가득 올린 트러플 크림치즈 파스타",
      },
      {
        alt: "로제 쉬림프 도리아",
        src: "./img/menu/deli/rose_shrimp_doria.png",
        description:
          "통통한 새우와 톡톡 씹히는 식감의 보리를 로제소스에 더한 치즈 도리아",
      },
      {
        alt: "포테이토 & 튜나 샐러드",
        src: "./img/menu/deli/potato_tuna_salad.jpg",
        description:
          "참치샐러드에 구운감자,계란, 올리브를 더해 신선하고 풍성하게 즐기는 니스와즈 ST 샐러드",
      },
      {
        alt: "통밀 튜나샌드위치",
        src: "./img/menu/deli/tuna_sandwitch.jpg",
        description:
          "건강해진 통밀빵 속에 신선한 야채와 참치샐러드가 더해져 깊은 풍미와 아삭한 식감이 느껴지는 베스트조합",
      },
      {
        alt: "에그튜나 샌드위치",
        src: "./img/menu/deli/eggtuna_sandwitch.jpg",
        description:
          "신선한 야채와 계란, 참치샐러드로 대중성있는 담백한맛 샌드위치",
      },
      {
        alt: "토마토 라구라자냐",
        src: "./img/menu/deli/tomato_lasagne.jpg",
        description:
          "플랜트 미트와 신선한 토마토를 가득 넣어 끓인 라구소스와 베사멜소스, 모짜렐라 치즈가 부드럽게 어우러진 제품 *냉동제품으로 고객님께서 제품 구매 후, 전자레인지에 조리 후 취식이 가능한 제품입니다.",
      },
      {
        alt: "라구듬뿍 치즈브리또",
        src: "./img/menu/deli/cheese_brito.jpg",
        description:
          "플랜트 미트볼과 베지 라구소스 볶음밥이 그릴드 야채, 모짜렐라 치즈와 어울린 핫 샌드위치",
      },
    ],
  },
  {
    dessert: [
      {
        alt: "오리저널 까눌레",
        src: "./img/menu/dessert/original_canele.jpg",
        description:
          "겉은 카라멜화되어 바삭하지만 속은 푸딩같이 부르더운 맛이 일품인 고급 디저트",
      },
      {
        alt: "얼그레이 까눌레",
        src: "./img/menu/dessert/earlgray_canele.jpg",
        description:
          "겉은 카라멜화되어 바삭하지만 속은 푸딩같이 부르더운 맛이 일품인 고급 디저트",
      },
      {
        alt: "블루 베리 스콘",
        src: "./img/menu/dessert/bbr_scone.png",
        description:
          "겉은 바삭 속은 촉촉한 식감의 상큼한 블루베리가 들어간 홈메이드 스타일 스콘",
      },
      {
        alt: "생크림 버터 스콘",
        src: "./img/menu/dessert/butter_scone.jpg",
        description: "생크림이 들어가 부드럽고 버터의 품이가 좋은 촉촉한 스콘",
      },
      {
        alt: "초코 청크 파운드",
        src: "./img/menu/dessert/choco_chunk_pound.png",
        description:
          "청키한 초코칩이 가득 더해ㅣㄴ 지한 초콜릿 풍미, NO 우유 NO 계란 NO 버터의 식물성 원료로 만든 파운드",
      },
      {
        alt: "소보로 쑥파운드",
        src: "./img/menu/dessert/soboro_ssuk_pound.png",
        description: "향긋한 쑥과 달콤한 소보로 토핑의 꿀조합 소보로 쑥파운드",
      },
      {
        alt: "캐치! 티피닝 촉촉 딸기 치즈케이크",
        src: "./img/menu/dessert/str_cheesecake.jpeg",
        description: "딸기 풍미 가득한 부드럽고 촉촉한 딸기 치즈 케이크",
      },
      {
        alt: "미니 호두파이",
        src: "./img/menu/dessert/mini_warnutpie.jpeg",
        description:
          "통밀이 들어가 더욱 고소한 파이 속 호두를 가득 채우고 아몬드 토핑을 더해 맛있게 구운 호두파이",
      },
      {
        alt: "고구마 왔 슈",
        src: "./img/menu/dessert/sweetp_choux.jpeg",
        description:
          "달콤한 고구마크림과 커스터드 생크림이 가득 채워진 귀여운 고구마 모양의 슈",
      },
      {
        alt: "부드럽고 진한 미니 초코케이크",
        src: "./img/menu/dessert/mini_choco_cake.jpeg",
        description:
          "달콤한 가나슈 필링 어우러진 진하고 촉촉한 미니 초코케이크",
      },
    ],
  },

  {
    gift: [
      {
        alt: "산딸기 라떼 롤케이크",
        src: "./img/menu/gift/str_rollcake.jpeg",
        description:
          "산딸기 크림과 연유 라떼 크림이 샌드되어 상큼한 딸기 콤포트가 중간에 들어간 발랄한 주디 롤케이크",
      },
      {
        alt: "우리쌀 롤케이크",
        src: "./img/menu/gift/rice_rollcake.jpeg",
        description:
          "우리쌀을 사용한 부드러운 시트와 고소한 콩고물 크림이 만나 별미인 우리쌀 롤케이크",
      },
      {
        alt: "벌꿀 카스테라",
        src: "./img/menu/gift/honey_castela.jpeg",
        description:
          "정통 방식으로 촉촉하게 구운 카스테라에 아카시아 꿀, 자라메당을 더해 은은한 닷맛과 식감을 살린 카스테라",
      },
      {
        alt: "클래식 파운드",
        src: "./img/menu/gift/classic_pound.jpeg",
        description:
          "숙성 아몬드페이스트로 고소함을 더한 반죽에 여셧가지 건 과일을 더해 달콤하게 즐기는 파운드 케이크",
      },
      {
        alt: "블루베리 잼 & 크림 롤케이크",
        src: "./img/menu/gift/bbr_jnc_rollcake.jpeg",
        description:
          "블루베리 시트 위에 달콤한 요거트 크림과 블루베리 잼이 어우러진 롤케이크",
      },
      {
        alt: "우리밀 전병세트",
        src: "./img/menu/gift/wheat_pancake.jpeg",
        description:
          "김, 땅콩, 검은깨 세가지 맛으로 우리밀을 사용해 고소함을 더한 전병 세트(1/22 출시)",
      },
      {
        alt: "프렌치 쿠키세트 (소)",
        src: "./img/menu/gift/frech_cookie_s.jpeg",
        description:
          "초코 & 버터샤브레, 코코넛비스킷 풍부한 버터향, 부드러운 식감의 3가지 쿠키 세트",
      },
      {
        alt: "모나카 선물세트",
        src: "./img/menu/gift/monaka.jpeg",
        description:
          "국화모양의 정갈한 모나카선물세트 (통단팥 찹쌀 모나카 8개+흑임자 찹쌀 모나카 4개)",
      },
      {
        alt: "프렌치 쿠키세트 (대)",
        src: "./img/menu/gift/frech_cookie_l.jpeg",
        description:
          "초코, 버터, 호두샤브레, 코코넛 & 아몬드 비스킷 풍부한 버터향, 부드러운 식감의 6가지 쿠키 세트",
      },
    ],
  },
];

/** handle recomm slide */
const recommMenuList = document.getElementById("recommend_menu__list");
const recommWrapBtn = recommMenuList.querySelectorAll(
  "#recommend_menu__list > li>a>img"
);
const recommWrapBtnImg = document.querySelectorAll(".recommend_menu--more img");
const recommStuffCont = document.querySelectorAll(".recomm_cont");
const recommListCont = document.querySelectorAll(".recomm_cont_list");
const recommStuffListCont = document.querySelectorAll(".recomm_cont_list ul");

/** handle recomm control  */
const recommImg = recommMenuList.querySelectorAll(".recomm_cont img");
const recommLeft = recommMenuList.querySelectorAll(".recomm_left");
const recommRight = recommMenuList.querySelectorAll(".recomm_right");

let activeIndex = null;
let menuIndex = 0;
/** handle recomm slide */
function recommAppearence(listIndex) {
  if (recommStuffCont[listIndex].classList.contains("hidden")) {
    if (activeIndex !== null) {
      recommStuffCont[activeIndex].animate(
        [
          {transform: "translateY(-5px)", opacity: 0, easing: "ease-out"},
          {transform: "translateY(0px)", opacity: 1, easing: "ease-in"},
        ],
        1000
      );
      recommStuffCont[activeIndex].classList.add("hidden");
      recommWrapBtnImg[activeIndex].style.transform = "rotateZ(0deg)";
      recommWrapBtnImg[activeIndex].style.transition = "0.7s ease-in-out";
    }
    recommStuffCont[listIndex].animate(
      [
        {transform: "translateY(-5px)", opacity: 0, easing: "ease-in"},
        {transform: "translateY(0px)", opacity: 1, easing: "ease-out"},
      ],
      1000
    );
    recommStuffCont[listIndex].classList.remove("hidden");
    recommWrapBtnImg[listIndex].style.transform = "rotateZ(180deg)";
    recommWrapBtnImg[listIndex].style.transition = "0.7s ease-in-out";
    activeIndex = listIndex;
  } else {
    recommStuffCont[listIndex].animate(
      [
        {transform: "translateY(-5px)", opacity: 0, easing: "ease-in"},
        {transform: "translateY(0px)", opacity: 1, easing: "ease-out"},
      ],
      1000
    );
    recommStuffCont[listIndex].classList.add("hidden");
    recommWrapBtnImg[listIndex].style.transform = "rotateZ(0deg)";
    recommWrapBtnImg[listIndex].style.transition = "0.7s ease-in-out";
    activeIndex = null;
  }
}
recommWrapBtn.forEach((wrapBtn, liIndex) => {
  const handelRecommClick = (event) => {
    if (liIndex === 0) {
      recommAppearence(liIndex);
    }
    if (liIndex === 1) {
      recommAppearence(liIndex);
    }
    if (liIndex === 2) {
      recommAppearence(liIndex);
    }
    if (liIndex === 3) {
      recommAppearence(liIndex);
    }
    if (liIndex === 4) {
      recommAppearence(liIndex);
    }
  };
  wrapBtn.addEventListener("click", handelRecommClick);
});

const BREAD_LENGH = recommArray[0].bread.length;
const CAKE_LENGH = recommArray[1].cake.length;
const DELI_LENGH = recommArray[2].deli.length;
const DESSERT_LENGH = recommArray[3].dessert.length;
const GIFT_LENGH = recommArray[4].gift.length;
const MENUIMG_WIDTH = 400;
let currentImg = 0;

recommLeft.forEach((lBtn, index) => {
  const handleRecommLbtn = (event) => {
    event.preventDefault();
    if (currentImg === 0) {
      currentImg = BREAD_LENGH;
    } else {
      currentImg--;
    }
    handleAppend(index);
    recommStuffListCont.item(index).style.transition = `ease-in-out 1s`;
    recommStuffListCont.item(index).style.transform = `translateX(-${
      MENUIMG_WIDTH * (currentImg - 1)
    }px)`;
  };
  lBtn.addEventListener("click", handleRecommLbtn);
});
recommRight.forEach((rBtn, index) => {
  const handleRecommRbtn = (event) => {
    event.preventDefault();
    if (currentImg === recommStuffListCont[index].children.length) {
      currentImg = 0;
    } else {
      currentImg++;
    }
    handleAppend(index);
    recommStuffListCont.item(index).style.transition = `ease-in-out 1s`;
    recommStuffListCont.item(index).style.transform = `translateX(-${
      MENUIMG_WIDTH * currentImg
    }px)`;
  };
  rBtn.addEventListener("click", handleRecommRbtn);
});

const appendCreateList = (product, num) => {
  const li = document.createElement("li");
  const img = document.createElement("img");
  const span = document.createElement("span");
  const p = document.createElement("p");
  img.src = product.src;
  img.alt = product.alt;
  span.innerText = product.alt;
  p.innerText = product.description;
  li.append(img);
  li.append(span);
  li.append(p);
  recommStuffListCont[num].appendChild(li);
};
// const prependCreateList = (product, num) => {
//   const li = document.createElement("li");
//   const img = document.createElement("img");
//   const span = document.createElement("span");
//   const p = document.createElement("p");

//   img.src = product.src;
//   img.alt = product.alt;
//   span.innerText = product.alt;
//   p.innerText = product.description;

//   li.append(img);
//   li.append(span);
//   li.append(p);

//   recommStuffListCont[num].prepend(li);
// };

// const handlePrepend = (NUM) => {
//   if (NUM === 0) {
//     // if (recommStuffListCont[0].children.length > BREAD_LENGH - 1) {
//     //   recommStuffListCont[0].firstChild.remove();
//     // }
//     recommArray[0].bread.forEach((breadCont, breadIndex) => {
//       prependCreateList(recommArray[0].bread[breadIndex], 0);
//     });
//   } else if (NUM === 1) {
//     // if (recommStuffListCont[1].children.length > CAKE_LENGH - 1) {
//     //   recommStuffListCont[1].firstChild.remove();
//     // }
//     recommArray[1].cake.forEach((cakeCont, cakeIndex) => {
//       prependCreateList(recommArray[1].cake[cakeIndex], 1);
//     });
//   } else if (NUM === 2) {
//     // if (recommStuffListCont[2].children.length > DELI_LENGH - 1) {
//     //   recommStuffListCont[2].firstChild.remove();
//     // }
//     recommArray[2].deli.forEach((deliCont, deliIndex) => {
//       prependCreateList(recommArray[2].deli[deliIndex], 2);
//     });
//   } else if (NUM === 3) {
//     // if (recommStuffListCont[3].children.length > DESSERT_LENGH - 1) {
//     //   recommStuffListCont[3].firstChild.remove();
//     // }
//     recommArray[3].dessert.forEach((dessertCont, dessertIndex) => {
//       prependCreateList(recommArray[3].dessert[dessertIndex], 3);
//     });
//   } else if (NUM === 4) {
//     // if (recommStuffListCont[4].children.length > GIFT_LENGH - 1) {
//     //   recommStuffListCont[4].firstChild.remove();
//     // }
//     recommArray[4].gift.forEach((giftCont, giftIndex) => {
//       prependCreateList(recommArray[4].gift[giftIndex], 4);
//     });
//   }
// };
const handleAppend = (NUM) => {
  if (NUM === 0) {
    // if (recommStuffListCont[0].children.length > BREAD_LENGH) {
    //   recommStuffListCont[0].firstChild.remove();
    // }
    recommArray[0].bread.forEach((breadCont, breadIndex) => {
      appendCreateList(recommArray[0].bread[breadIndex], 0);
    });
  } else if (NUM === 1) {
    // if (recommStuffListCont[1].children.length > CAKE_LENGH) {
    //   recommStuffListCont[1].firstChild.remove();
    // }
    recommArray[1].cake.forEach((cakeCont, cakeIndex) => {
      appendCreateList(recommArray[1].cake[cakeIndex], 1);
    });
  } else if (NUM === 2) {
    // if (recommStuffListCont[2].children.length > DELI_LENGH - 1) {
    //   recommStuffListCont[2].firstChild.remove();
    // }
    recommArray[2].deli.forEach((deliCont, deliIndex) => {
      appendCreateList(recommArray[2].deli[deliIndex], 2);
    });
  } else if (NUM === 3) {
    // if (recommStuffListCont[3].children.length > DESSERT_LENGH - 1) {
    //   recommStuffListCont[3].firstChild.remove();
    // }
    recommArray[3].dessert.forEach((dessertCont, dessertIndex) => {
      appendCreateList(recommArray[3].dessert[dessertIndex], 3);
    });
  } else if (NUM === 4) {
    // if (recommStuffListCont[4].children.length > GIFT_LENGH - 1) {
    //   recommStuffListCont[4].firstChild.remove();
    // }
    recommArray[4].gift.forEach((giftCont, giftIndex) => {
      appendCreateList(recommArray[4].gift[giftIndex], 4);
    });
  }
};

// window.addEventListener("scroll", () => {
//   console.log(window.scrollY);
// });
